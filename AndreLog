Until we have the wiki up, I will list here the main code modifications from my part.


3-26-2013:
---------------------------------------------------------------------------
Renamed branch variable: vertins -> vertparts ("vertex particles")

Increased number of vertices by 1 (to include the LSP stable vertex) and number of entries in verparts by 1 (now it ends with 0, for LSP)

Weight was changed from array to dictionary with entries "7 TeV" and "8 TeV" (any number of entries/keys may be added by the user)

Modified the Equalxx methods

Added the masscomp variable to EAnalysis to be used when combining elements with similar masses at the matching procedure

Changed .constraints to .results in the EAnalysis class



Modified matching procedure. Now in 3 steps:
0) When reading the events and generate the topology list -> only combine weights for elements with identical particles and masses
(identical means =, while similar means ~)

1) Add all elements generated during events to the analysis elements (from Analysis.results) -> only combine weights with particles matching the
Analysis element and identical masses


2) Get all masses appearing in all elements of a single Analysis and generate a dictionary for equivalent masses, using the analysis-dependent mass comparison. The dictionary groups all equivalent masses and replace them by their averaged mass (with options for standard mean or harmonic mean). The grouping still is sensitive to the order in which equivalent masses appear! But each mass only "belongs" to a single group (which one is order dependent)

3) Using the dictionary, the mass entries in each element of the Analysis are combined if they belong to the same averaged mass group. As a result a common mass list (using the averaged masses) is generated for all elements.

